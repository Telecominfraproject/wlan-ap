--- a/lib/tls/openssl/openssl-server.c
+++ b/lib/tls/openssl/openssl-server.c
@@ -607,7 +607,7 @@ lws_tls_server_new_nonblocking(struct lw
 	return 0;
 }
 
-int
+LWS_EXTERN enum lws_ssl_capable_status
 lws_tls_server_abort_connection(struct lws *wsi)
 {
 	SSL_shutdown(wsi->tls.ssl);
