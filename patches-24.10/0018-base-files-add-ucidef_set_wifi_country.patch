From 2ad3abb507ffcfd100b266956b1ef71bb215e985 Mon Sep 17 00:00:00 2001
From: John Crispin <john@phrozen.org>
Date: Thu, 22 Sep 2022 15:12:20 +0200
Subject: [PATCH 18/55] base-files: add ucidef_set_wifi_country

This allows CIG units to force a list of regdomains.

Signed-off-by: John Crispin <john@phrozen.org>
---
 package/base-files/files/lib/functions/uci-defaults.sh | 6 ++++++
 1 file changed, 6 insertions(+)

diff --git a/package/base-files/files/lib/functions/uci-defaults.sh b/package/base-files/files/lib/functions/uci-defaults.sh
index 5293ce12c0..3155940e10 100644
--- a/package/base-files/files/lib/functions/uci-defaults.sh
+++ b/package/base-files/files/lib/functions/uci-defaults.sh
@@ -733,6 +733,12 @@ ucidef_set_ssh_authorized_key() {
 	json_select ..
 }
 
+ucidef_set_wifi_country() {
+	json_select_object wifi
+		json_add_string country "$1"
+	json_select ..
+}
+
 ucidef_set_ntpserver() {
 	local server
 
-- 
2.34.1

